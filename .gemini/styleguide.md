# Tronbyt Apps Styleguide

## Images

It is strongly recommended to not embed images as base64-encoded strings inside the Starlark file. This is because the base64 overhead results in a roughly 33% size increase and the long strings pollute the context for AI agents. Apps should load images from external files instead.

## 2x Support

We encourage app developers to add 2x support for their apps. Please refer to the [Pixlet documentation on 2x apps](https://github.com/tronbyt/pixlet/blob/main/docs/2x_apps.md) for detailed guidelines. A file with a `main()` function that doesn't import the "canvas" object from "render.star" is likely an app without 2x support.

## Preview Images

Every app must contain a preview image in the app directory which should have the same name as the app directory with a `.webp` extension. Ideally, it should also have a 2x preview whose file name must have a `@2x` infix between the base name and the `.webp` extension. These images should be 64x32 and 128x64 pixels, respectively. They are ideally generated by `pixlet render -z 9` and `pixlet render -z 9 -2` commands.

## File Naming Conventions

The Starlark file containing the `main()` function should have the same base name as its containing directory. Additionally, the `packageName` attribute in the `manifest.yaml` file must correspond to the directory name.

## Configuration Options

Configuration options for secrets (passwords, API tokens, OAuth credentials, etc.) should set `secret = True` so that the configuration UI renders them as password inputs.

Apps should use `config.bool`, not `config.get` to retrieve boolean configuration options, e.g. those from `schema.Toggle` options.

